assingment1
========================================================
author: MH Lee
date: 2019-04-03
autosize: true

1. Introduction
========================================================

&nbsp;
<h3>자료 구조 변경</h3>
&nbsp;
<p style="font-size:110%;"><strong>변수 설명</strong></p>
- PM10 : 서울 중구 측정소에서 관측한 PM10($\mu$g/$m^2$)
- PM2.5 : 서울 중구 측정소에서 관측한 PM25($\mu$g/$m^2$)
- O3 : 서울 중구 측정소에서 관측한 오존($ppm$)
- NO2 :서울 중구 측정소에서 관측한 이산화질소($ppm$)
- CO : 서울 중구 측정소에서 관측한 일산화탄소($ppm$)
- SO2 : 서울 중구 측정소에서 관측한 아황산가스($ppm$)
- 종합대기상태 : CAI를 기준으로한 종합대기 상태(좋음, 보통, 나쁨, 매우 나쁨)
- 종합대기지수 : 통합대기환경지수(CAI, Comprehensive air-quality index)
- 주오염물질 : 통합 대기 환경 지수 계산 과정에서 대기환경에 가장 많은 영향을 주는 오염물질
- china_PM25  : 중국 베이징 관측소에서 관측한 PM25 농도

<p style="font-size:110%;"><strong>목표 : 전날의 기상 데이터를 이용하여 다음날의 종합대기지수를 예측할 수 있다.</strong></p>
- 이를 위해서 종합 대기 지수외에 데이터를 전날로 shift를 하였음

데이터 자료 구조
========================================================
&nbsp;


```r
str(weather[,c(1,seq(7,30))])
```

```
'data.frame':	1538 obs. of  25 variables:
 $ date               : Date, format: "2015-01-01" "2015-01-02" ...
 $ 최대.순간.풍속     : num  12.1 13 6.7 6.1 6.9 10.9 6.8 6.7 7.1 9.5 ...
 $ 최대.순간.풍속.풍향: num  270 270 250 70 70 270 270 230 250 270 ...
 $ 최대.풍속          : num  6.5 6.7 4.4 3.7 4.4 7.3 4.5 4.8 4.2 6.3 ...
 $ 최대.풍속.풍향     : num  320 290 230 50 70 290 320 270 290 270 ...
 $ 평균.풍속          : num  4.6 3.2 1.9 2 2.4 4.3 2.5 2.2 2 2.3 ...
 $ 풍정합             : num  3999 2789 1678 1758 2087 ...
 $ 평균.이슬점온도    : num  -18.8 -16.1 -10.5 -2.5 -1 -12.4 -19.4 -15.4 -9.4 -8.2 ...
 $ 최소.상대습도      : num  29 28 35 54 51 27 23 25 37 32 ...
 $ 평균.상대습도      : num  41.4 45.9 56.1 70.1 73.1 52.4 33.1 45.8 58.3 56.5 ...
 $ 평균.증기압        : num  1.4 1.7 3 5.2 5.7 2.8 1.3 1.9 3 3.5 ...
 $ 평균.현지기압      : num  1014 1015 1013 1008 1006 ...
 $ 합계.일조.시간     : num  8.9 7.6 7.9 3.6 4.4 9.2 9.2 9.2 9.1 9.1 ...
 $ 시간당.최다일사량  : num  1.7 1.68 1.62 1.11 1.37 1.78 1.71 1.7 1.48 1.66 ...
 $ 합계.일사          : num  9.79 9.07 8.66 5.32 6.48 ...
 $ 일.최심적설        : num  NA NA NA NA NA NA NA NA NA NA ...
 $ 합계.대형증발량    : num  NA NA NA NA NA NA NA NA NA NA ...
 $ 안개.계속시간      : num  NA NA NA NA NA NA NA NA NA NA ...
 $ PM10               : num  65 29 36 42 75 38 34 41 44 34 ...
 $ PM2.5              : num  11 10 16 20 37 12 11 16 21 16 ...
 $ O3                 : num  0.021 0.017 0.005 0.004 0.004 0.023 0.021 0.012 0.007 0.011 ...
 $ NO2                : num  0.011 0.018 0.033 0.038 0.043 0.016 0.017 0.027 0.036 0.031 ...
 $ CO                 : num  0.6 0.7 1 1.2 1.3 0.3 0.2 0.4 0.7 0.6 ...
 $ SO2                : num  0.006 0.007 0.008 0.008 0.009 0.006 0.007 0.007 0.008 0.009 ...
 $ 종합대기상태       : Factor w/ 4 levels "나쁨","매우 나쁨",..: 3 4 3 3 3 4 4 3 3 3 ...
```


데이터 자료 구조2
========================================================
&nbsp;

+ 강수량 같이 null 값이 0으로 대체될 수 있는 변수의 결측값 제거

```r
weather[which(is.na(weather$강수.계속시간)), '강수.계속시간'] <- 0
weather[which(is.na(weather$일강수량)), '일강수량'] <- 0
weather[which(is.na(weather$일.최심적설)), '일.최심적설'] <- 0
weather[which(is.na(weather$합계.대형증발량)), '합계.대형증발량'] <- 0
weather[which(is.na(weather$안개.계속시간)), '안개.계속시간'] <- 0
```
&nbsp;
+ 결측치 

&nbsp;

```r
sum(is.na(weather))
```

```
[1] 88
```


&nbsp;
<p align="center" style="font-size:130%;"><strong>다른 결측값은 월펼 평균값을 넣는 방식으로 대체하고자 함</strong></p> 
&nbsp;

탐색적 데이터 분석(EDA)
========================================================
&nbsp;
<li><p style="font-size:130%;"><strong>풍향 데이터 결측값 제거</strong></p></li>
&nbsp;




```
Error in weather %>% group_by(years, months, 최대.순간.풍속.풍향) %>%  : 
  함수 "%>%"를 찾을 수 없습니다
```
